<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.cz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<head>
    <title>Pixel Pioneer Course - Profile</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.ckeditor.com/4.16.2/standard/ckeditor.js"></script>
</head>
<body th:if="${user.activeStatus == true}">
	<div class="content-wrapper" layout:fragment="contents">
	    <div class="container">
	        
	    </div>
	    <div th:if="${ErrorCondition}" class="alert alert-danger" role="alert">
			<span style="color: red; font-weight: bold;" th:text="${ErrorError}"></span>
		</div>
		<div th:if="${SuccessCondition}" class="alert alert-success" role="alert">
			<span style="color: green; font-weight: bold;" th:text="${SuccessSuccess}"></span>
		</div>
        <div class="page-section bg-primary border-bottom-white">
            <div class="container page__container d-flex flex-column flex-md-row align-items-center text-center text-md-left">
                <div class="flex mb-32pt mb-md-0">
                    <h1 class="text-white mb-0" th:text="${user.fullName}">Full Name</h1>
					<div class="d-flex align-items-center">
					    <span class="text-white-100" th:text="${user.role.roleName.substring(5)}" style="font-size: large;">Role</span>
			    <span style="margin-left: 1vh;"></span><span style="font-size: medium;" class="text-white">- Joined since </span><span class="text-white" style="font-size: medium; margin-right: 0.7vh;"></span><span th:text="${#temporals.format(user.createdAt, 'dd/MM/yyyy')}" style="font-size: medium;" class="text-white">Join Date</span>
			</div>
			<span class="d-flex align-items-center">
			    <span th:if="${user.activeStatus}" class="badge bg-success" style="height: 5vh; color: white; font-size: large;">Active Account</span>
			    <span th:if="${!user.activeStatus}" class="badge bg-danger" style="height: 5vh; color: white; font-size: large;">Inactive Account</span>
			</span>							                            
		                  </div>
		              </div>
		          </div>
		
		          <div class="page-section bg-primary">
		              <div class="container page__container">
		                  <div class="row">
		                      <div class="col-lg-6">
							    <div class="card border-0 mb-lg-0">
							        <div class="card-header d-flex align-items-center">
							            <div class="h2 mb-0 mr-3">COURSES</div>
							            <div class="flex">
							                <p class="card-title">List of</p>
							                <p class="card-subtitle text-50">created/enrolled courses</p>
							            </div>
							        </div>
							        <div class="card-body p-24pt">
							            <!-- add list of courses here -->
							            <ul class="list-group list-group-flush">
							                <li class="list-group-item" th:each="course : ${courses}">
							                    <h5 th:text="${course.title}">Course Title</h5>
							                    <p th:text="${course.description}">Course Description</p>
							                </li>
							            </ul>
							        </div>
							    </div>
							</div>
		                      <div class="col-lg-6" th:if="${session.user.id == user.id and (session.isAdmin == null and session.isInstructor == null)}">
		
		                          <div class="card border-0 mb-lg-0">
									    <div class="mb-0 mr-3"></div>
									    <div class="flex ml-2">
									        <p class="card-title">Instructor Request</p>
									        <p class="card-subtitle">Send request to be one of our Instructors</p>
									    </div>
									    <form id="requestForm" action="/app/users/profile/requestInstructor" class="mb-0" method="post">
									        <input type="hidden" name="userId" th:value="${user.id}">
									        <textarea name="request" id="editor1" rows="20" cols="100">
									            Please write a brief letter about you, what's your purpose and why should we choose you. We will review and respond to you soon.
									        </textarea>
									        <button type="submit" class="btn btn-accent mr-2" style="float: right;">Send Request</button>
									    </form>
									</div>
									
									<script>
									    CKEDITOR.replace('editor1', {
									        toolbar: [
									            { name: 'basicstyles', items: ['Bold', 'Italic'] },
									            { name: 'paragraph', items: ['Indent', 'Outdent'] }
									        ],
									        removePlugins: 'resize'
									    });
									</script>
		                          <br/>
		
		                          
		                      </div>
		                      <div class="col-lg-6" th:if="${session.user.id != user.id}">
		
		                          <div class="card border-0 mb-lg-0" style="height: 88.5vh;">
		                          	<h1 class="ml-2 card-title">Welcome to <span th:text="${user.fullName}"></span>'s profile!</h1>
		                          	<img height="500vh" alt="hello-gif" src="https://www.desicomments.com/wp-content/uploads/2017/07/Hello.gif">
		                          </div>
		                          <br/>
		                      </div>
		                      <div class="col-lg-6" th:if="${session.user.id == user.id and (session.isAdmin == true or session.isInstructor == true)}">
		
		                          <div class="card border-0 mb-lg-0" style="height: 88.5vh;">
		                          	<h1 class="ml-2 card-title">Your profile seems brilliant, keep up the good work!</h1>
		                          	<img height="500vh" alt="hello-gif" src="https://th.bing.com/th/id/R.e2568f80d03372522f118d09f3478be5?rik=HTbipFSnxR%2bA3A&pid=ImgRaw&r=0">
		                          </div>
		                          <br/>
		                      </div>
		                  </div>
		              </div>
		          </div>
	</div>
</body>
</html>
