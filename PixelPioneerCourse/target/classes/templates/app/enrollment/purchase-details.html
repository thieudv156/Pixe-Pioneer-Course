<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<head>
    <title>Purchase Details</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/public/css/purchase-details.css}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="/public/js/purchase-details.js"></script>
    <style>
        .validation-error {
            color: red;
            display: none;
        }
    </style>
</head>
<body>
<div class="content-wrapper" layout:fragment="contents">
    <div class="container">
        <div class="mdk-header-layout__content page-content">
            <div class="page-section container page__container">
                <div class="col-lg-10 p-0 mx-auto">
                    <div class="row">
                        <form onsubmit="event.preventDefault(); processPayment();" class="container">
                            <div class="col-md-12">
                                <div class="card mb-0">
                                    <div class="card-body">
                                        <h5>Payment Details</h5>
                                        <div class="d-flex mb-8pt">
                                            <div class="flex">
                                                <strong class="text-70">Subscription Type:</strong>
                                                <span th:text="${subscriptionType}"></span>
                                            </div>
                                            <strong>USER</strong>
                                        </div>

                                        <div class="alert alert-soft-warning">
                                            <div class="d-flex flex-wrap align-items-start">
                                                <div class="mr-8pt">
                                                    <i class="material-icons">check</i>
                                                </div>
                                                <div class="flex" style="min-width: 180px">
                                                    <small class="text-100">
                                                        Access to over 1.000 high quality courses. <strong>For individuals in a month.</strong>
                                                    </small>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="d-flex mb-16pt pb-16pt border-bottom">
                                            <div class="flex"><strong class="text-70">Price</strong></div>
                                            <strong>
                                                <p>Price: <span th:text="${price}"></span> USD</p>
                                            </strong>
                                        </div>
                                        <div>
                                            <input type="hidden" id="subscriptionType" th:value="${subscriptionType}">
                                        </div>
                                        <div>
                                            <input type="hidden" id="price" th:value="${price}">
                                        </div>
                                        <div>
                                            <input type="hidden" id="userId" th:value="${userId}">
                                        </div>

                                        <div class="mb-3">
                                            <label for="paymentMethod">Payment Method:</label>
                                            <div class="payment-method">
                                                <input type="radio" id="paypal" name="paymentMethod" value="PAYPAL" checked>
                                                <label for="paypal"><img src="https://i.pcmag.com/imagery/reviews/068BjcjwBw0snwHIq0KNo5m-15.fit_lim.size_1050x591.v1602794215.png" alt="PayPal" class="paypal-logo"></label>
                                            </div>
                                            <div class="payment-method">
                                                <input type="radio" id="creditCard" name="paymentMethod" value="CREDIT_CARD">
                                                <label for="creditCard"><img src="https://vudigital.co/wp-content/uploads/2022/04/8.webp" alt="Credit Card" class="visa-logo"></label>
                                            </div>
                                        </div>

                                        <div id="creditCardDetails" class="credit-card-details">
                                            <div class="form-group">
                                                <label for="cardNumber">Card Number</label>
                                                <input type="text" class="form-control" id="cardNumber" placeholder="Enter card number">
                                                <div id="cardNumber-error" class="validation-error"></div>
                                            </div>
                                            <div class="form-group">
                                                <label for="expiration">Expiration Date (MM/YY)</label>
                                                <input type="text" class="form-control" id="expiration" placeholder="MM/YY">
                                                <div id="expiration-error" class="validation-error"></div>
                                            </div>
                                            <div class="form-group">
                                                <label for="cvv">CVV</label>
                                                <input type="text" class="form-control" id="cvv" placeholder="Enter CVV">
                                                <div id="cvv-error" class="validation-error"></div>
                                            </div>
                                        </div>

<!--                                        <div class="custom-control custom-checkbox mb-3">-->
<!--                                            <input type="checkbox" class="custom-control-input" checked id="terms">-->
<!--                                            <label class="custom-control-label" for="terms">Terms and conditions</label>-->
<!--                                            <small class="form-text text-muted">By checking here and continuing, I agree to the Pixel Pioneer Course Terms of Use</small>-->
<!--                                        </div>-->
                                        <div class="pay-button">
                                            <button type="submit" class="btn btn-primary">Pay</button>
                                        </div>
                                        <div id="error" style="color:red;" th:if="${error}"></div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /.content -->
</div>
</body>
</html>
